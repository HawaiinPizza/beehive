{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/mnt/c/Users/klong/Documents/GitHub/Beehive/client/src/Pages/SignUp.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport SignInPanel from \"../Components/SignInPanel\";\nimport * as API from \"../api/User\";\nimport { Redirect } from \"react-router-dom\";\nimport \"../CSS/LogIn.css\";\n\nfunction LogIn(props) {\n  _s();\n\n  const [user, setUser] = React.useState(\"\");\n  const [status, setStatus] = React.useState(-1);\n  let Users = new Map([[\"user\", \"pass\"], [\"admin\", \"pass\"], [\"Monier\", \"Motorsport 7\"]]);\n\n  async function checkuser(_username, _password, _email) {\n    // Checkinging fields\n    const re = /\\S+@\\S+\\.\\S+/;\n    console.log(_email, re.test(_email));\n    console.log(\"REGEX\", re.test(_email));\n\n    if (!re.test(_email)) {\n      setStatus(4);\n      return false;\n    }\n\n    let res = await API.new_user({\n      username: _username,\n      password: _password,\n      email: _email,\n      role_id: 0,\n      points: 0\n    }); // Backend shit\n\n    console.log(\"--------------------------\");\n\n    switch (res[0]) {\n      case 0:\n        setUser(_username);\n        setStatus(0);\n        props.setName(_username);\n        return true;\n        break;\n\n      case 1:\n        setStatus(1);\n        break;\n\n      case 2:\n        setStatus(2);\n        break;\n\n      case 3:\n        setStatus(3);\n        break;\n    }\n\n    return false;\n  }\n\n  function addUser(username, password) {\n    Users.set(username, password);\n  }\n\n  function displaystatus() {\n    switch (status) {\n      case -1:\n        return /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Sign Up FUCK \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this);\n\n      case 1:\n        return /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Sign up failed: username/email already in database\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this);\n\n      case 2:\n        return /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Sign up failed: DEV ERROR: empty fields have been inserted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this);\n\n      case 4:\n        return /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Sign up failed: Bad email format. \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this);\n\n      case 0:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\" Welcome \", user, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 8\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Redirect, {\n            push: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 34\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 7\n        }, this);\n\n      default:\n        return /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Sign up failed:  another reason \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Login\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login-SignInPanel\",\n      children: /*#__PURE__*/_jsxDEV(SignInPanel, {\n        addUser: checkuser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }, this), displaystatus()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 4\n  }, this);\n}\n\n_s(LogIn, \"041C6T82hYiS3H1+QmePdVUaYh0=\");\n\n_c = LogIn;\nexport default LogIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"sources":["/mnt/c/Users/klong/Documents/GitHub/Beehive/client/src/Pages/SignUp.tsx"],"names":["React","SignInPanel","API","Redirect","LogIn","props","user","setUser","useState","status","setStatus","Users","Map","checkuser","_username","_password","_email","re","console","log","test","res","new_user","username","password","email","role_id","points","setName","addUser","set","displaystatus"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAO,KAAKC,GAAZ,MAAqB,aAArB;AAEA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAO,kBAAP;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAwC;AAAA;;AACtC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,KAAK,CAACQ,QAAN,CAAe,EAAf,CAAxB;AACA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBV,KAAK,CAACQ,QAAN,CAAe,CAAC,CAAhB,CAA5B;AACA,MAAIG,KAAK,GAAG,IAAIC,GAAJ,CAAQ,CAClB,CAAC,MAAD,EAAS,MAAT,CADkB,EAElB,CAAC,OAAD,EAAU,MAAV,CAFkB,EAGlB,CAAC,QAAD,EAAW,cAAX,CAHkB,CAAR,CAAZ;;AAMA,iBAAiBC,SAAjB,CAA2BC,SAA3B,EAA8CC,SAA9C,EAAiEC,MAAjE,EAAkG;AACjG;AACF,UAAMC,EAAE,GAAG,cAAX;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ,EAAoBC,EAAE,CAACG,IAAH,CAAQJ,MAAR,CAApB;AAEEE,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,EAAE,CAACG,IAAH,CAAQJ,MAAR,CAArB;;AAEA,QAAG,CAAEC,EAAE,CAACG,IAAH,CAAQJ,MAAR,CAAL,EAAqB;AACpBN,MAAAA,SAAS,CAAC,CAAD,CAAT;AACA,aAAO,KAAP;AACA;;AAGD,QAAIW,GAAG,GAAC,MAAOnB,GAAG,CAACoB,QAAJ,CAAa;AAACC,MAAAA,QAAQ,EAACT,SAAV;AAAqBU,MAAAA,QAAQ,EAACT,SAA9B;AAAyCU,MAAAA,KAAK,EAACT,MAA/C;AAAuDU,MAAAA,OAAO,EAAC,CAA/D;AAAkEC,MAAAA,MAAM,EAAC;AAAzE,KAAb,CAAf,CAbiG,CAcjG;;AACOT,IAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;;AACP,YAAOE,GAAG,CAAC,CAAD,CAAV;AACC,WAAK,CAAL;AACCd,QAAAA,OAAO,CAACO,SAAD,CAAP;AACqBJ,QAAAA,SAAS,CAAC,CAAD,CAAT;AACAL,QAAAA,KAAK,CAACuB,OAAN,CAAcd,SAAd;AACA,eAAO,IAAP;AACtB;;AACA,WAAK,CAAL;AACCJ,QAAAA,SAAS,CAAC,CAAD,CAAT;AACD;;AACA,WAAK,CAAL;AACCA,QAAAA,SAAS,CAAC,CAAD,CAAT;AACD;;AACA,WAAK,CAAL;AACCA,QAAAA,SAAS,CAAC,CAAD,CAAT;AACD;AAfD;;AAiBA,WAAO,KAAP;AAGA;;AAED,WAASmB,OAAT,CAAiBN,QAAjB,EAAmCC,QAAnC,EAAqD;AACnDb,IAAAA,KAAK,CAACmB,GAAN,CAAUP,QAAV,EAAoBC,QAApB;AACD;;AAED,WAASO,aAAT,GAAyB;AACxB,YAAQtB,MAAR;AACC,WAAK,CAAC,CAAN;AACC,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAP;;AACD,WAAK,CAAL;AACC,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAP;;AACD,WAAK,CAAL;AACC,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAP;;AACD,WAAK,CAAL;AACC,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAP;;AAED,WAAK,CAAL;AACC,4BACC;AAAA,qBACE,GADF,eAEC;AAAA,oCAAcH,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD,oBAE2B,QAAC,QAAD;AAAU,YAAA,IAAI,MAAd;AAAe,YAAA,EAAE,EAAC;AAAlB;AAAA;AAAA;AAAA;AAAA,kBAF3B,EAEoD,GAFpD;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD;;AAMD;AACC,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAP;AAlBF;AAoBA;;AAED,sBACC;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA,4BACC;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA,6BACC,QAAC,WAAD;AAAa,QAAA,OAAO,EAAEO;AAAtB;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD,EAIEkB,aAAa,EAJf;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAQD;;GAlFQ3B,K;;KAAAA,K;AAoFT,eAAeA,KAAf","sourcesContent":["import React from \"react\";\r\nimport SignInPanel from \"../Components/SignInPanel\";\r\nimport * as API from \"../api/User\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nimport \"../CSS/LogIn.css\";\r\n\r\nfunction LogIn(props: { setName: any }) {\r\n  const [user, setUser] = React.useState(\"\");\r\n  const [status, setStatus] = React.useState(-1);\r\n  let Users = new Map([\r\n    [\"user\", \"pass\"],\r\n    [\"admin\", \"pass\"],\r\n    [\"Monier\", \"Motorsport 7\"],\r\n  ]);\r\n\r\n  async  function  checkuser(_username: string, _password: string, _email:string): Promise<boolean> {\r\n\t  // Checkinging fields\r\n\tconst re = /\\S+@\\S+\\.\\S+/\r\n\tconsole.log(_email, re.test(_email))\r\n\r\n\t  console.log(\"REGEX\", re.test(_email) )\r\n\r\n\t  if(! re.test(_email)){\r\n\t\t  setStatus(4)\r\n\t\t  return false\r\n\t  }\r\n\r\n\r\n\t  let res=await (API.new_user({username:_username, password:_password, email:_email, role_id:0, points:0}))\r\n\t  // Backend shit\r\n          console.log(\"--------------------------\")\r\n\t  switch(res[0]){\r\n\t\t  case 0:\r\n\t\t\t  setUser(_username)\r\n                          setStatus(0)\r\n                          props.setName(_username);\r\n                          return true;\r\n\t\t  break;\r\n\t\t  case 1:\r\n\t\t\t  setStatus(1)\r\n\t\t  break;\r\n\t\t  case 2:\r\n\t\t\t  setStatus(2)\r\n\t\t  break;\r\n\t\t  case 3:\r\n\t\t\t  setStatus(3)\r\n\t\t  break;\r\n\t  }\r\n\t  return false;\r\n\r\n\r\n  }\r\n\r\n  function addUser(username: string, password: string) {\r\n    Users.set(username, password);\r\n  }\r\n\r\n  function displaystatus() {\r\n\t  switch (status) {\r\n\t\t  case -1:\r\n\t\t\t  return <h1> Sign Up FUCK </h1>;\r\n\t\t  case 1:\r\n\t\t\t  return <h1> Sign up failed: username/email already in database</h1>;\r\n\t\t  case 2:\r\n\t\t\t  return <h1> Sign up failed: DEV ERROR: empty fields have been inserted</h1>;\r\n\t\t  case 4:\r\n\t\t\t  return <h1> Sign up failed: Bad email format. </h1>;\r\n\r\n\t\t  case 0:\r\n\t\t\t  return (\r\n\t\t\t\t  <div>\r\n\t\t\t\t\t  {\" \"}\r\n\t\t\t\t\t  <h1> Welcome {user} </h1> <Redirect push to=\"/\" />{\" \"}\r\n\t\t\t\t  </div>\r\n\t\t  );\r\n\t\t  default:\r\n\t\t\t  return <h1> Sign up failed:  another reason </h1>\r\n\t  }\r\n  }\r\n\r\n  return (\r\n\t  <div className=\"Login\">\r\n\t\t  <div className=\"Login-SignInPanel\">\r\n\t\t\t  <SignInPanel addUser={checkuser} />\r\n\t\t  </div>\r\n\t\t  {displaystatus()}\r\n\t  </div>\r\n  );\r\n}\r\n\r\nexport default LogIn;\r\n"]},"metadata":{},"sourceType":"module"}