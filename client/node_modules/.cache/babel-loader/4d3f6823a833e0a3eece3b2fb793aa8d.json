{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/mnt/c/Users/klong/Documents/GitHub/Beehive/client/src/Pages/SignUp.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport SignInPanel from \"../Components/SignInPanel\";\nimport * as API from \"../api/User\";\nimport { Redirect } from \"react-router-dom\";\nimport \"../CSS/LogIn.css\";\n\nfunction LogIn(props) {\n  _s();\n\n  const [user, setUser] = React.useState(\"\");\n  const [status, setStatus] = React.useState(-1);\n  let Users = new Map([[\"user\", \"pass\"], [\"admin\", \"pass\"], [\"Monier\", \"Motorsport 7\"]]);\n\n  async function checkuser(_username, _password, _email) {\n    // Checkinging fields\n    const re = /\\S+@\\S+\\.\\S+/;\n    console.log(_email, re.test(_email));\n    console.log(\"REGEX\", re.test(_email));\n\n    if (!re.test(_email)) {\n      setStatus(4);\n      return false;\n    }\n\n    let res = await API.new_user({\n      username: _username,\n      password: _password,\n      email: _email,\n      role_id: 0,\n      points: 0\n    }); // Backend shit\n\n    console.log(\"--------------------------\");\n\n    switch (res[0]) {\n      case 0:\n        setUser(_username);\n        setStatus(0);\n        props.setName(_username);\n        return true;\n        break;\n\n      case 1:\n        setStatus(1);\n        break;\n\n      case 2:\n        setStatus(2);\n        break;\n\n      case 3:\n        setStatus(3);\n        break;\n    }\n\n    return false;\n  }\n\n  function addUser(username, password) {\n    Users.set(username, password);\n  }\n\n  function displaystatus() {\n    switch (status) {\n      case -1:\n        return /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Sign Up \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 16\n        }, this);\n\n      case 1:\n        return /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Sign up failed: username/email already in database\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 16\n        }, this);\n\n      case 2:\n        return /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Sign up failed: DEV ERROR: empty fields have been inserted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this);\n\n      case 4:\n        return /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Sign up failed: Bad email format. \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 16\n        }, this);\n\n      case 0:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\" Welcome \", user, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Redirect, {\n            push: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 39\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this);\n\n      default:\n        return /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Sign up failed: another reason \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 16\n        }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Login\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login-SignInPanel\",\n      children: /*#__PURE__*/_jsxDEV(SignInPanel, {\n        addUser: checkuser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), displaystatus()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LogIn, \"041C6T82hYiS3H1+QmePdVUaYh0=\");\n\n_c = LogIn;\nexport default LogIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"sources":["/mnt/c/Users/klong/Documents/GitHub/Beehive/client/src/Pages/SignUp.tsx"],"names":["React","SignInPanel","API","Redirect","LogIn","props","user","setUser","useState","status","setStatus","Users","Map","checkuser","_username","_password","_email","re","console","log","test","res","new_user","username","password","email","role_id","points","setName","addUser","set","displaystatus"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport SignInPanel from \"../Components/SignInPanel\";\r\nimport * as API from \"../api/User\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nimport \"../CSS/LogIn.css\";\r\n\r\nfunction LogIn(props: { setName: any }) {\r\n  const [user, setUser] = React.useState(\"\");\r\n  const [status, setStatus] = React.useState(-1);\r\n  let Users = new Map([\r\n    [\"user\", \"pass\"],\r\n    [\"admin\", \"pass\"],\r\n    [\"Monier\", \"Motorsport 7\"],\r\n  ]);\r\n\r\n  async function checkuser(\r\n    _username: string,\r\n    _password: string,\r\n    _email: string\r\n  ): Promise<boolean> {\r\n    // Checkinging fields\r\n    const re = /\\S+@\\S+\\.\\S+/;\r\n    console.log(_email, re.test(_email));\r\n\r\n    console.log(\"REGEX\", re.test(_email));\r\n\r\n    if (!re.test(_email)) {\r\n      setStatus(4);\r\n      return false;\r\n    }\r\n\r\n    let res = await API.new_user({\r\n      username: _username,\r\n      password: _password,\r\n      email: _email,\r\n      role_id: 0,\r\n      points: 0,\r\n    });\r\n    // Backend shit\r\n    console.log(\"--------------------------\");\r\n    switch (res[0]) {\r\n      case 0:\r\n        setUser(_username);\r\n        setStatus(0);\r\n        props.setName(_username);\r\n        return true;\r\n        break;\r\n      case 1:\r\n        setStatus(1);\r\n        break;\r\n      case 2:\r\n        setStatus(2);\r\n        break;\r\n      case 3:\r\n        setStatus(3);\r\n        break;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function addUser(username: string, password: string) {\r\n    Users.set(username, password);\r\n  }\r\n\r\n  function displaystatus() {\r\n    switch (status) {\r\n      case -1:\r\n        return <h1> Sign Up </h1>;\r\n      case 1:\r\n        return <h1> Sign up failed: username/email already in database</h1>;\r\n      case 2:\r\n        return (\r\n          <h1> Sign up failed: DEV ERROR: empty fields have been inserted</h1>\r\n        );\r\n      case 4:\r\n        return <h1> Sign up failed: Bad email format. </h1>;\r\n\r\n      case 0:\r\n        return (\r\n          <div>\r\n            {\" \"}\r\n            <h1> Welcome {user} </h1> <Redirect push to=\"/\" />{\" \"}\r\n          </div>\r\n        );\r\n      default:\r\n        return <h1> Sign up failed: another reason </h1>;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"Login\">\r\n      <div className=\"Login-SignInPanel\">\r\n        <SignInPanel addUser={checkuser} />\r\n      </div>\r\n      {displaystatus()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LogIn;\r\n"]},"metadata":{},"sourceType":"module"}